17:35:43.957 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event E1 ...
17:35:44.085 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - server1: curl -X GET http://localhost:9200/?pretty
17:35:44.085 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - {
  "status" : 200,
  "name" : "node-1",
  "version" : {
    "number" : "1.3.0",
    "build_hash" : "1265b1454eee7725a6918f57415c480028700fb4",
    "build_timestamp" : "2014-07-23T13:46:36Z",
    "build_snapshot" : false,
    "lucene_version" : "4.9"
  },
  "tagline" : "You Know, for Search"
}

17:35:44.152 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - server2: curl -X GET http://localhost:9200/?pretty
17:35:44.152 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - {
  "status" : 200,
  "name" : "node-2",
  "version" : {
    "number" : "1.3.0",
    "build_hash" : "1265b1454eee7725a6918f57415c480028700fb4",
    "build_timestamp" : "2014-07-23T13:46:36Z",
    "build_snapshot" : false,
    "lucene_version" : "4.9"
  },
  "tagline" : "You Know, for Search"
}

17:35:44.288 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - server3: curl -X GET http://localhost:9200/?pretty
17:35:44.288 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - {
  "status" : 200,
  "name" : "node-3",
  "version" : {
    "number" : "1.3.0",
    "build_hash" : "1265b1454eee7725a6918f57415c480028700fb4",
    "build_timestamp" : "2014-07-23T13:46:36Z",
    "build_snapshot" : false,
    "lucene_version" : "4.9"
  },
  "tagline" : "You Know, for Search"
}

17:35:44.288 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event E1 ...
17:35:44.443 [qtp326298949-21] INFO  io.redit.execution.EventService - Event E1 received!
17:35:44.444 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event E2 ...
17:35:44.495 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event E2 ...
17:35:44.501 [qtp326298949-34] INFO  io.redit.execution.EventService - Event E2 received!
17:35:44.502 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event E3 ...
17:35:44.535 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.4:9200 successes with code 200
17:35:44.535 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
NTCOMXLtT1KehfGSiGczIg server1 10.2.0.4 node-1

17:35:44.535 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - Current master: server1. Ip address: 10.2.0.4
17:35:44.535 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event E3 ...
17:35:44.540 [qtp326298949-115] INFO  io.redit.execution.EventService - Event E3 received!
17:35:44.540 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event E4 ...
17:35:44.750 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.4:9200 successes with code 200
17:35:44.750 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
{
  "acknowledged" : true
}

17:35:44.967 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.4:9200 successes with code 201
17:35:44.967 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
{
  "_index" : "foo",
  "_type" : "bar",
  "_id" : "1",
  "_version" : 1,
  "created" : true
}

17:35:49.967 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event E4 ...
17:35:49.972 [qtp326298949-24] INFO  io.redit.execution.EventService - Event E4 received!
17:35:49.972 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event E5 ...
17:35:49.984 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.4:9200 successes with code 200
17:35:49.984 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
foo 0 p STARTED 1 2.4kb 10.2.0.3 node-2
foo 0 r STARTED 1 2.4kb 10.2.0.2 node-3

17:35:49.984 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - PrimaryShardServer: server2; Ip address: 10.2.0.3
17:35:49.984 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - ReplicaShardServer: server3; Ip address: 10.2.0.2
17:35:49.984 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event E5 ...
17:35:49.988 [qtp326298949-118] INFO  io.redit.execution.EventService - Event E5 received!
17:35:49.988 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event X1 ...
17:35:49.989 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - --> partitioning node with primary shard from rest of cluster
17:35:49.989 [main] INFO  i.r.e.NetworkPartitionManager - Applying network partition [server2]-[server1,server3] ...
17:35:50.176 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event X1 ...
17:35:50.182 [qtp326298949-22] INFO  io.redit.execution.EventService - Event X1 received!
17:35:55.183 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event E6 ...
17:35:55.189 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - --> index a document into previous replica shard (that is now primary)
17:35:55.233 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.2:9200 successes with code 200
17:35:55.233 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
{
  "_index" : "foo",
  "_type" : "bar",
  "_id" : "1",
  "_version" : 2
}

17:35:55.239 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.2:9200 successes with code 200
17:35:55.239 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
{
  "_index" : "foo",
  "_type" : "bar",
  "_id" : "1",
  "_version" : 2,
  "found" : true,
  "_source":{"value":"something else"}
}

17:35:55.240 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event E6 ...
17:35:55.246 [qtp326298949-30] INFO  io.redit.execution.EventService - Event E6 received!
17:35:55.247 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event X2 ...
17:35:55.248 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - --> shut down node that has new acknowledged document
17:35:55.248 [main] INFO  i.r.e.s.SingleNodeRuntimeEngine - Killing node server3 ...
17:35:55.590 [main] INFO  i.r.e.s.SingleNodeRuntimeEngine - Node server3 is killed!
17:35:55.591 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event X2 ...
17:35:55.594 [qtp326298949-46] INFO  io.redit.execution.EventService - Event X2 received!
17:35:56.595 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event X3 ...
17:35:56.599 [main] INFO  i.r.e.NetworkPartitionManager - Removing network partition [server2]-[server1,server3] ...
17:35:56.606 [main] DEBUG i.r.e.NetworkPartitionManager - Cannot apply network blockage rules on node server3 because it is not running
17:35:56.704 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - --> waiting for node with old primary shard to rejoin the cluster
17:35:56.704 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event X3 ...
17:35:56.707 [qtp326298949-48] INFO  io.redit.execution.EventService - Event X3 received!
17:36:01.708 [main] INFO  io.redit.execution.RuntimeEngine - Waiting for event E7 ...
17:36:01.712 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - --> check that old primary shard get promoted to primary again
17:36:01.719 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.3:9200 successes with code 200
17:36:01.719 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
foo 0 r UNASSIGNED
foo 0 p UNASSIGNED

17:36:06.724 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.3:9200 successes with code 200
17:36:06.724 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
foo 0 p INITIALIZING   10.2.0.3 node-2
foo 0 r UNASSIGNED

17:36:11.730 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.3:9200 successes with code 200
17:36:11.730 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
foo 0 p STARTED    1 2.5kb 10.2.0.3 node-2
foo 0 r UNASSIGNED

17:36:11.740 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest - request to 10.2.0.4:9200 successes with code 200
17:36:11.740 [main] INFO  i.r.s.b.e.io.redit.samples.activemq7337.SampleTest -
{
  "_index" : "foo",
  "_type" : "bar",
  "_id" : "1",
  "_version" : 1,
  "found" : true,
  "_source":{ "value": "origin" }
}

17:36:11.740 [main] INFO  io.redit.execution.RuntimeEngine - Sending test case event E7 ...
17:36:11.743 [qtp326298949-23] INFO  io.redit.execution.EventService - Event E7 received!
